# Backend Environment Variables Example
# Copy this file to .env and fill in your actual values

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME=JobPortal
APP_VERSION=1.0.0
DEBUG=False

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MongoDB Atlas Connection String
# Get this from: https://cloud.mongodb.com/
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/?retryWrites=true&w=majority
DATABASE_NAME=TalentNest

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================
# Generate a strong random secret key (use: openssl rand -hex 32)
SECRET_KEY=your-secret-key-here-generate-a-strong-random-string-min-32-chars
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# =============================================================================
# CORS SETTINGS
# =============================================================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# =============================================================================
# AI & MACHINE LEARNING (REQUIRED FOR AI FEATURES)
# =============================================================================
# IMPORTANT: Current implementation uses OpenAI. 
# To use Anthropic Claude, code changes are required (see notes below).

# ACTIVATE ONE OF THE FOLLOWING (uncomment the one you want to use):

# Option 1: OpenAI GPT-4o (Currently Implemented and Working)
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# OpenAI Model Selection (Note: Currently hardcoded in code)
# This value documents the model in use. To change models, you must edit:
# - backend/app/ai/chains/recommendation_chain.py
# - backend/app/ai/chains/candidate_matching_chain.py
# - backend/app/ai/rag/qa_chain.py
# - backend/app/api/v1/routes/assistant.py
# - backend/app/services/resume_parser.py (uses gpt-4o-mini)
OPENAI_MODEL=gpt-4o  # Options: gpt-4o, gpt-4o-mini, gpt-4-turbo, gpt-4

# Option 2: Anthropic Claude 3.x/4 (Requires Code Implementation)
# Get your API key from: https://console.anthropic.com/
# IMPORTANT: Uncommenting this alone will NOT work - code changes needed
# ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# =============================================================================
# N8N WORKFLOW AUTOMATION (OPTIONAL - FOR ADVANCED AI ORCHESTRATION)
# =============================================================================
# n8n Base URL (default: http://localhost:5678)
N8N_BASE_URL=http://localhost:5678

# n8n API Key (get from n8n UI: Settings -> API)
# Leave empty to disable n8n integration
N8N_API_KEY=

# n8n Workflow IDs (customize based on your n8n workflows)
N8N_JOB_RECOMMENDATION_WORKFLOW_ID=job-recommendation
N8N_CANDIDATE_MATCHING_WORKFLOW_ID=candidate-matching
N8N_RESUME_PARSING_WORKFLOW_ID=resume-parsing
N8N_EMAIL_NOTIFICATION_WORKFLOW_ID=email-notification

# =============================================================================
# EMAIL CONFIGURATION (OPTIONAL - FOR NOTIFICATIONS)
# =============================================================================
# SMTP Server Settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587

# Email Credentials
# For Gmail: Use an App Password (https://support.google.com/accounts/answer/185833)
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# Sender Information
SMTP_FROM_EMAIL=noreply@jobportal.com
SMTP_FROM_NAME=JobPortal


# =============================================================================
# REDIS CACHE & BACKGROUND JOBS (OPTIONAL - NOT CURRENTLY IMPLEMENTED)
# =============================================================================
# Redis is an in-memory data store for caching and background task queues.
# 
# POTENTIAL USE CASES (Future Enhancement):
# - Background job queues (email sending, resume parsing)
# - Caching frequently accessed data (job listings, user profiles)
# - Session storage (alternative to JWT-only approach)
# - Rate limiting for AI API calls
# - Real-time features (notifications, chat)
#
# CURRENT STATUS: Not implemented - MongoDB handles all data storage
# 
# TO ENABLE (Future):
# 1. Uncomment REDIS_URL below
# 2. Install Redis: https://redis.io/docs/getting-started/
# 3. Add redis>=5.0.1 to requirements.txt
# 4. Implement background workers (Celery/RQ)
#
# REDIS_URL=redis://localhost:6379/0
#
# NOTE: Redis is NOT required for the application to run.
#       MongoDB is sufficient for current functionality.
# =============================================================================
# =============================================================================
# FILE UPLOAD SETTINGS
# =============================================================================
# Maximum file size in bytes (default: 10MB)
MAX_UPLOAD_SIZE=10485760

# Allowed file extensions (comma-separated)
ALLOWED_EXTENSIONS=pdf,doc,docx

# =============================================================================
# LOGGING
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# =============================================================================
# NOTES
# =============================================================================
# 
# REQUIRED FOR FULL FUNCTIONALITY:
# - MONGODB_URI: Database connection
# - SECRET_KEY: JWT token generation
# - OPENAI_API_KEY: AI features (recommendations, matching, cover letters)
#
# AI PROVIDER OPTIONS (Per Project Spec):
# - OpenAI (GPT-4o/4.1): ✅ FULLY IMPLEMENTED AND WORKING
# - Anthropic Claude (3.x/4): ⚠️ SPEC ALLOWS BUT NOT YET IMPLEMENTED
#
# CURRENT IMPLEMENTATION STATUS:
# - The codebase currently uses OpenAI (ChatOpenAI, OpenAIEmbeddings)
# - To use Anthropic Claude, you would need to:
#   1. Install: pip install langchain-anthropic
#   2. Update: backend/app/ai/chains/*.py to use ChatAnthropic
#   3. Update: backend/app/ai/rag/embeddings.py for Anthropic embeddings
#   4. Add provider switching logic in services
#
# FOR NOW: Use OpenAI API key (fully functional out of the box)
#
# OPTIONAL BUT RECOMMENDED:
# - SMTP_*: Email notifications for applications and status updates
# - N8N_*: Advanced workflow automation (can be added later)
#
# TESTING:
# - Use DEBUG=True for development
# - Use LOG_LEVEL=DEBUG for detailed logs
#
# PRODUCTION:
# - Set DEBUG=False
# - Use strong SECRET_KEY (32+ characters)
# - Enable HTTPS for CORS_ORIGINS
# - Use environment-specific MongoDB cluster
# - Monitor OpenAI API usage and costs
#
